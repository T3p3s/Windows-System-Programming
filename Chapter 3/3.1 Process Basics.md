#### Process types

- **Protected Processes** - These processes were introduced in Windows Vista. They were created to support Digital Rights Management (DRM) protection by preventing intrusive access to processes rendering DRM-protected content. For example, no other process (even running with administrator rights) can read the memory within a protected process address space, so the DRM-protected data cannot be directly stolen.

- **UWP Processes** - These processes, available starting with Windows 8, host the Windows Runtime, and typically are published to the Microsoft Store. A UWP process executes inside an AppContainer - a sandbox of sorts that limits the operations this process can carry out.

- **Protected Processes Light (PPL)** - These processes (available from Windows 8.1) extended the protection mechanism from Vista by adding several levels of protection and even allowing third-party services to run as PPL, protecting them from intrusive access, and from termination, even by admin-level processes.

- **Minimal Processes** - These processes available from Windows 10 version 1607, is a truly new form of process. The address space of a minimal process does not contain the usual images and data structures that a normal process does. For example, there is no executable file mapped into the process address space, and no DLLs. The process address space is truly empty.

- **Pico Processes** - These processes are minimal processes with one addition: a Pico provider, which is a kernel driver that intercepts Linux system calls and translates them to equivalent Windows system calls. These processes are used with the Windows Subsystem for Linux (WSL), available from Windows 10 version 1607.

#### Name

Some processes don't have name. It means "Name" is not unique identifier at all. Examples of processes without a name: System, Secure System, Registry, Memory Compression, System Idle Process and System Interrupts.

- System Interrupts is not really a process, it’s just used as a way to measure the time spent in the kernel servicing hardware interrupts and Deferred Procedure Calls. Both are beyond the scope of this book. You can find more information in the Windows Internals and Windows Kernel Programming books.

- System Idle Process is also not a real process. It always has a Process ID (PID) of zero. It accounts for Windows idle time. This is where the CPUs go when there is nothing to do.

- The System process is a true process, technically being a minimal process as well. It always has a PID of 4. It represents everything going on in kernel space - the memory used by the kernel and kernel drivers, the open handles, threads and so on.

- The Secure System process is only available on Windows 10 and Server 2016 (and later) systems that boot with Virtualization Based Security enabled. It represents everything going on in the secure kernel. Refer to the Windows Internals book for more information.

- The Registry process is a minimal process available from Windows 10 version 1803 (RS4) that is used as “working area” for managing the registry, rather than using the Paged Pool as was done in previous versions. For the purposes of this book, it’s an implementation detail that does not affect the way the registry is accessed programmatically.

- The Memory Compression process is a minimal process available on Windows 10 version 1607 (but not on servers) and holds compressed memory in its address space. Memory compression is a feature added in Windows 10 to conserve physical memory (RAM), especially useful for devices with limited resources such as phones and IoT (Internet of Things) devices. Confusingly, Task Manager does not show this process, but it is shown properly by Process Explorer.

#### PID

PID is the unique ID of the Process. PIDs are multiple of 4, where the lowest valid PID value is 4 (belonging to the System processes). Process IDs are reused once a process terminates, so it's possible to see a new process with a PID that was once used for a (now gone) process. 

> [!info] 
>  Handles also start with 4 and are multiples of 4, just like PIDs. This is not coincidence. In fact, PIDs (and thread IDs) are handle values in a special handle table used just for this purpose.

#### Status

Status can have 3 values: Running, Suspended and Not Responding.

| Process type                     | Running when…                                         | Suspended when…                                           | Not responding when…                                                       |
| -------------------------------- | ----------------------------------------------------- | --------------------------------------------------------- | -------------------------------------------------------------------------- |
| GUI process (not UWP)            | GUI thread is responsive                              | All threads in the process are suspended                  | GUI thread does not check message queue for at least 5 seconds             |
| CUI process (not UWP)UWP process | At least one thread is not suspendedin the foreground | All threads in the process are suspendedin the background | Never<br><br>GUI thread does notcheck message queue for at least 5 seconds |
